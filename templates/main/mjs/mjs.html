<div id="mjs-container">
	<div id="mjs" ng-show="mjsCtrl.content_loaded">
		<div id="unassigned">
			<div class="title">
				<en>Unsorted Items</en>
				<he>פריטים לא ממויינים</he>
			</div>
			<div ng-repeat="item in mjsCtrl.mjs_items.unassigned">
				<mjs-item ng-click="mjsCtrl.select_collection([item])" item="item" ng-class="{'selected-collection': mjsCtrl.is_selected_collection([item])}"></mjs-item>
			</div>
		</div>
		<div id="molecules">
			<div id="silhouette" class="silhouette" plumb-root="molecules-main" root-container="molecules" connecton="mjsCtrl.mjs_items.assigned.length">
				<div class="silhouette__icon">
					<icon position="[-125, -148]"></icon>
				</div>
			</div>
			<!-- placeholders for jsPlumb -->
			<div id="branch-placeholder--0" class="branch-placeholder branch-placeholder--0" ng-class="{selected: mjsCtrl.selected_branch === 0 && mjsCtrl.mjs_items.assigned.length > 0}" plumb-node="molecules-main" node-container="molecules"></div>
			<div id="branch-placeholder--1" class="branch-placeholder branch-placeholder--1" ng-class="{selected: mjsCtrl.selected_branch === 1 && mjsCtrl.mjs_items.assigned.length > 1}" plumb-node="molecules-main" node-container="molecules"></div>
			<div id="branch-placeholder--2" class="branch-placeholder branch-placeholder--2" ng-class="{selected: mjsCtrl.selected_branch === 2 && mjsCtrl.mjs_items.assigned.length > 2}" plumb-node="molecules-main" node-container="molecules"></div>
			<div id="branch-placeholder--3" class="branch-placeholder branch-placeholder--3" ng-class="{selected: mjsCtrl.selected_branch === 3 && mjsCtrl.mjs_items.assigned.length > 3}" plumb-node="molecules-main" node-container="molecules"></div>
			<!-- new branch -->
			<div class="branch branch--{{mjsCtrl.mjs_items.assigned.length}} branch--new" ng-if="mjsCtrl.mjs_items.assigned.length < 4">
				<ng-switch on="mjsCtrl.dragging">
					<div ng-switch-when="true" class="branch__drop-area" droppable ondrop="mjsCtrl.create_n_assign" context="mjsCtrl" branch-name="mjsCtrl.new_branch.name">
						<div class="branch__drop-area__border"></div>
						<div class="branch__drop-area__center">
							<div class="branch__drop-area__center__text">Drop here to create a new branch</div>
						</div>
					</div>
					<div ng-switch-when="false" style="width: 100%; height: 100%;">
						<div class="branch__head-border"></div>
						<div class="branch__head" ng-click="mjsCtrl.insert_new_branch()">
							<div class="create-branch">+</div>
						</div>
					</div>
				</ng-switch>
			</div>
			<!-- branches -->
			<mjs-branch ng-repeat="branch in mjsCtrl.mjs_items.assigned"></mjs-branch>
		</div>
	</div>
	<div id="item-bar-container">
		<div id="item-bar">
			<div id="item-bar-title-container" ng-hide="mjsCtrl.is_selected_collection([])">
				<div id="item-bar-title">
					<he>מאגר</he>
					{{mjsCtrl.selected_collection_type}} 
					<en>collection</en>
				</div>
			</div>
			<item-preview ng-repeat="item_data in mjsCtrl.selected_collection" preview-data="item_data" arrow="right" hide-text="true" removable="true"></item-preview>
		</div>
	</div>
</div>
