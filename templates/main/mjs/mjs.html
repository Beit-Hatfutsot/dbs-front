<div id="mjs-container">
	<div id="mjs" ng-show="mjsCtrl.content_loaded">
		<div id="unassigned">
			<div class="title">Unsorted Items</div>
			<div ng-repeat="item in mjsCtrl.mjs_items.unassigned" draggable data="item">
				<mjs-item ng-click="mjsCtrl.select_collection([item])" item="item"></mjs-item>
			</div>
		</div>
		<div id="molecules" plumb-container connecton="mjsCtrl.mjs_items.assigned.length">
			<div id="silhouette" class="silhouette" plumb-root="molecules">
				<div class="silhouette__icon">
					<icon position="[-125, -148]"></icon>
				</div>
			</div>
			<!-- placeholders for jsPlumb -->
			<div id="branch-placeholder--0" class="branch-placeholder branch-placeholder--0" ng-class="{selected: mjsCtrl.selected_branch === 0 && mjsCtrl.mjs_items.assigned.length > 0}" plumb-node="molecules" plumb-root="branch--0"></div>
			<div id="branch-placeholder--1" class="branch-placeholder branch-placeholder--1" ng-class="{selected: mjsCtrl.selected_branch === 1 && mjsCtrl.mjs_items.assigned.length > 1}" plumb-node="molecules" plumb-root="branch--1"></div>
			<div id="branch-placeholder--2" class="branch-placeholder branch-placeholder--2" ng-class="{selected: mjsCtrl.selected_branch === 2 && mjsCtrl.mjs_items.assigned.length > 2}" plumb-node="molecules" plumb-root="branch--2"></div>
			<div id="branch-placeholder--3" class="branch-placeholder branch-placeholder--3" ng-class="{selected: mjsCtrl.selected_branch === 3 && mjsCtrl.mjs_items.assigned.length > 3}" plumb-node="molecules" plumb-root="branch--3"></div>
			<!-- new branch -->
			<div class="branch branch--{{mjsCtrl.mjs_items.assigned.length}} branch--new" ng-if="mjsCtrl.mjs_items.assigned.length < 4">
				<ng-switch on="mjsCtrl.dragging">
					<div ng-switch-when="true">
						<div class="branch__drop-area-border"></div>
						<div class="branch__drop-area" droppable ondrop="mjsCtrl.create_n_assign" branch-name="mjsCtrl.new_branch.name">
							<div class="branch__drop-area__text">Drop here to create a new branch</div>
						</div>
					</div>
					<div ng-switch-when="false" style="width: 100%; height: 100%;">
						<div class="branch__head-border"></div>
						<div class="branch__head">
							<input class="branch__head__name" ng-model="mjsCtrl.new_branch.name" add-mjs-branch>
						</div>
					</div>
				</ng-switch>
			</div>
			<!-- branches -->
			<mjs-branch ng-repeat="branch in mjsCtrl.mjs_items.assigned"></mjs-branch>
		</div>
	</div>
	<div id="item-bar-container">
		<div id="item-bar">
			<item-preview ng-repeat="item_data in mjsCtrl.selected_collection" preview-data="item_data" arrow="right" hide-text="true" removable="true"></item-preview>
		</div>
	</div>
</div>
