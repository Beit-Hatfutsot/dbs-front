<div id="branch--{{$index}}" class="branch branch--{{$index}}" ng-class="{selected: mjsCtrl.selected_branch === $index}">
	<ng-switch on="mjsCtrl.dragging">
		<div ng-switch-when="true">
			<div class="branch__drop-area-border"></div>
			<div class="branch__drop-area" droppable ondrop="mjsCtrl.assign_item" context="mjsCtrl" branch-name="branch.name">
				<div class="branch__drop-area__text">Drop to add item to branch</div>
			</div>
		</div>
		<div ng-switch-when="false" style="width: 100%; height: 100%;">
			<div id="branch-head-border-{{$index}}" class="branch__head-border" ng-click="mjsCtrl.select_branch($index)">
				<div class="branch__head-border__edit">
					<en>
						<icon position="[-226, -123]"></icon>
					</en>
					<he>
						<icon position="[-224, -123]"></icon>
					</he>
				</div>
				<div class="branch__head-border__remove" ng-click="mjsCtrl.remove($event, branch.name)">
					<en>
						<icon position="[-226, -102]"></icon>
					</en>
					<he>
						<icon position="[-224, -102]"></icon>
					</he>
				</div>
			</div>
			<div class="branch__head" ng-click="mjsCtrl.select_branch($index)">
				<input class="branch__head__name" ng-model="branch.name" ng-click="mjsCtrl.stopPropagation($event)" alter-mjs-branch>
			</div>
		</div>
	</ng-switch>
	<div id="branch-content-{{$index}}" class="branch__content" ng-show="mjsCtrl.selected_branch === $index">
		<mjs-assigned ng-if="branch.items.familyNames" id="assigned-first-{{$index}}" class="assigned assigned--first" collection-name="familyNames" icon-position='{"en": [-81, -266], "he": [-61, -266]}' plumb-connect to="branch-head-border-{{$index}}" connection-id="familyNames-{{$index}}" delay="1300" connecton="mjsCtrl.selected_branch"></mjs-assigned>
		<mjs-assigned ng-if="branch.items.places" id="assigned-second-{{$index}}" class="assigned assigned--second" collection-name="places" icon-position='{"en": [-79, -192], "he": [-59, -192]}' plumb-connect to="branch-head-border-{{$index}}" connection-id="places-{{$index}}" delay="1300" connecton="mjsCtrl.selected_branch"></mjs-assigned>
	</div>
</div>