<auth-private on="itemController.is_ugc_request">
<div id="item-page-container">
	<div id="item-page" ng-show="itemController.content_loaded">
		<div class="related">
			<trees-preview ng-if="itemController.related_individuals" individuals="itemController.related_individuals" query-params="itemController.related_individuals_query_params"></trees-preview>
			<item-preview ng-if="itemController.wizard_name.isNotEmpty()" preview-data="itemController.wizard_name"></item-preview>
			<item-preview ng-repeat="r_data in itemController.related_data | limitTo: 3" preview-data="r_data"></item-preview>
		</div>
		<div class="item-container">
			<div class="item">
				<div class="item__header">
					<div class="text">
						<en>
							<pre>{{itemController.item_data.Header.En}}</pre>
						</en>
						<he>
							<pre>{{itemController.item_data.Header.He}}</pre>
						</he>
					</div>
				</div>
				<mjs-widget item="itemController.item_data"></mjs-widget>
				<div class="item__type">
					<ng-switch on="itemController.item_type">
						<div ng-switch-when="familyNames">
							<div class="type-icon-container">
								<div class="surname-icon"></div>
							</div>
							<div class="type-desc-container">
								<en>Surname Origin</en>
								<he>פירוש שם משפחה</he>
							</div>
						</div>
						<div ng-switch-when="places">
							<div class="type-icon-container">
								<div class="place-icon"></div>
							</div>
							<div class="type-desc-container">
								<en>Place</en>
								<he>מקום</he>
							</div>
						</div>
						<div ng-switch-when="photoUnits">
							<div class="type-icon-container">
								<div class="photo-icon"></div>
							</div>
							<div class="type-desc-container">
								<en>Image</en>
								<he>תמונה</he>
							</div>
						</div>
					</ng-switch>
				</div>
				<div class="item__content">
					<div 	class="item__content__media-container"
							ng-class="{'item__content__media-container--movie': itemController.item_type === 'movies'}" 
							ng-if="itemController.item_data.video_url || itemController.item_data.main_image_url">
						<ng-switch on="itemController.item_type">
							<video 	ng-switch-when="movies" ng-src="{{itemController.item_data.video_url}}" controls autoplay type="video/mp4"></video>
							<img ng-switch-default ng-src="{{itemController.item_data.main_image_url}}" alt="Item Image">
						</ng-switch>
					</div>
					<en>
						<pre>{{itemController.item_data.UnitText1.En}}</pre>
					</en>
					<he>
						<pre>{{itemController.item_data.UnitText1.He}}</pre>
					</he>
				</div>
				<div class="item__bottom-bar">
					<mjs-widget item="itemController.item_data"></mjs-widget>
				</div>
			</div>
		</div>
		<div class="related">
			<item-preview ng-if="itemController.wizard_place.isNotEmpty()" preview-data="itemController.wizard_place"></item-preview>
			<item-preview ng-repeat="r_data in itemController.related_data.slice(3, 6)" preview-data="r_data"></item-preview>
		</div>
	</div>
</div>
</auth-private>
