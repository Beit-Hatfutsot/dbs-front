<div id="family-trees-container" ng-class="{'tree-view': ftreesCtrl.tree_view}">
	<div id="tree-sort">
		<div class="title">
			<en>Family Trees search results</en>
			<he>תוצאות חיפוש עמי משפחה</he>
		</div>
		<form class="filters">
			<div class="filters__title">
				<en>Search Filters</en>
				<he>מסנני חיפוש</he>
			</div>
			<div class="filters__actions">
				<button class="filters__actions__update" ng-click="ftreesCtrl.search()">
					<en>Update</en>
					<he>עדכן</he>
				</button>
				<div class="filters__actions__clear">
					<en>Clear filters</en>
					<he>נקה מסננים</he>
				</div>
			</div>
			<div class="filters__field">
				<div class="container">
					<label>
						<en>First Name</en>
						<he>שם פרטי</he>
					</label>
					<input type="text" ng-model="ftreesCtrl.search_params.first_name">
					<div class="info">?</div>
				</div>
			</div>
			<filters-field class="filters__field" label-text-en="Last Name" label-text-he="שם משפחה" model="last_name"></filters-field>
			<div class="filters__sex">
				<div class="filters__sex__title">
					<en>Sex</en>
					<he>מין</he>
				</div>
				<div class="filters__sex__choices">
					<input type="radio" name="sex" value="m" ng-model="ftreesCtrl.search_params.sex">Male<br>
					<input type="radio" name="sex" value="f" ng-model="ftreesCtrl.search_params.sex">Female<be>
				</div>
			</div>
			<filters-field class="filters__field" label-text-en="Place of Birth" label-text-he="מקום לידה" model="birth_place"></filters-field>
			<filters-field class="filters__field" label-text-en="Place of Marriage" label-text-he="מקום נישואין" model="marriage_place"></filters-field>
			<filters-field class="filters__field" label-text-en="Place of Death" label-text-he="מקום פטירה" model="death_place"></filters-field>
			<filters-fudge class="filters__fudge-field" label-text-en="Year of Birth" label-text-he="שנת לידה" model="birth_year"></filters-fudge>
			<filters-fudge class="filters__fudge-field" label-text-en="Year of Marriage" label-text-he="שנת נישואין" model="marriage_year"></filters-fudge>
			<filters-fudge class="filters__fudge-field" label-text-en="Year of Death" label-text-he="שנת פטירה" model="death_year"></filters-fudge>
			<filters-field class="filters__field" label-text-en="Tree Number" label-text-he="מספר עץ" model="tree_number"></filters-field>
			<button class="filters__update" ng-click="ftreesCtrl.search()">
				Update
			</button>
		</form>
		<div class="results" ng-show="ftreesCtrl.individuals.isNotEmpty()">
			<div class="results__title">
				<en>Results {{ftreesCtrl.display_from_result + 1}} - {{ftreesCtrl.display_to_result}} of {{ftreesCtrl.individuals.length}}</en>
				<he>תוצאות {{ftreesCtrl.display_from_result + 1}} - {{ftreesCtrl.display_to_result}} מתןך {{ftreesCtrl.individuals.length}}</he>
			</div>
			<table class="results__individuals">
				<thead>
					<tr>
						<th class="first-name" ng-click="ftreesCtrl.sort('FN')" ng-switch on="ftreesCtrl.sorted_by" ng-show="ftreesCtrl.column_status['FN']">
							<icon class="sort-arrow" position="[-380, -113]" ng-switch-when="FN"></icon>
							<icon class="sort-arrow sort-arrow--upside" position="[-380, -113]" ng-switch-when="FN_inverse"></icon>
							<icon class="sort-arrow" position="[-380, -125]" ng-switch-default></icon>
							<div class="column-title">
								<en>First<br>Name</en>
								<he>שם<br>פרטי</he>
							</div>
						</th>
						<th class="last-name" ng-click="ftreesCtrl.sort('LN')" ng-switch on="ftreesCtrl.sorted_by" ng-show="ftreesCtrl.column_status['LN']">
							<icon class="sort-arrow" position="[-380, -113]" ng-switch-when="LN"></icon>
							<icon class="sort-arrow sort-arrow--upside" position="[-380, -113]" ng-switch-when="LN_inverse"></icon>
							<icon class="sort-arrow" position="[-380, -125]" ng-switch-default></icon>
							<div class="column-title">
								<en>Last<br>Name</en>
								<he>שם<br>משפחה</he>
							</div>
						</th>
						<th class="birth-place" ng-click="ftreesCtrl.sort('BP')" ng-switch on="ftreesCtrl.sorted_by" ng-show="ftreesCtrl.column_status['BP']">
							<icon class="sort-arrow" position="[-380, -113]" ng-switch-when="BP"></icon>
							<icon class="sort-arrow sort-arrow--upside" position="[-380, -113]" ng-switch-when="BP_inverse"></icon>
							<icon class="sort-arrow" position="[-380, -125]" ng-switch-default></icon>
							<div class="column-title">
								<en>Birth<br>Place</en>
								<he>מקום<br>לידה</he>
							</div>
						</th>
						<th class="birth-data" ng-click="ftreesCtrl.sort('BD')" ng-switch on="ftreesCtrl.sorted_by" ng-show="ftreesCtrl.column_status['BD']">
							<icon class="sort-arrow" position="[-380, -113]" ng-switch-when="BD"></icon>
							<icon class="sort-arrow sort-arrow--upside" position="[-380, -113]" ng-switch-when="BD_inverse"></icon>
							<icon class="sort-arrow" position="[-380, -125]" ng-switch-default></icon>
							<div class="column-title">
								<en>Birth<br>Date</en>
								<he>תאריך<br>לידה</he>
							</div>
						</th>
						<th class="marriage-place" ng-click="ftreesCtrl.sort('MP')" ng-switch on="ftreesCtrl.sorted_by" ng-show="ftreesCtrl.column_status['MP']">
							<icon class="sort-arrow" position="[-380, -113]" ng-switch-when="MP"></icon>
							<icon class="sort-arrow sort-arrow--upside" position="[-380, -113]" ng-switch-when="MP_inverse"></icon>
							<icon class="sort-arrow" position="[-380, -125]" ng-switch-default></icon>
							<div class="column-title">
								<en>Marriage<br>Place</en>
								<he>מקום<br>נישואין</he>
							</div>
						</th>
						<th class="marriage-date" ng-click="ftreesCtrl.sort('MD')" ng-switch on="ftreesCtrl.sorted_by" ng-show="ftreesCtrl.column_status['MD']">
							<icon class="sort-arrow" position="[-380, -113]" ng-switch-when="MD"></icon>
							<icon class="sort-arrow sort-arrow--upside" position="[-380, -113]" ng-switch-when="MD_inverse"></icon>
							<icon class="sort-arrow" position="[-380, -125]" ng-switch-default></icon>
							<div class="column-title">
								<en>Marriage<br>Date</en>
								<he>תאריך<br>נישואין</he>
							</div>
						</th>
						<th class="death-place" ng-click="ftreesCtrl.sort('DP')" ng-switch on="ftreesCtrl.sorted_by" ng-show="
						ftreesCtrl.column_status['DP']">
							<icon class="sort-arrow" position="[-380, -113]" ng-switch-when="DP"></icon>
							<icon class="sort-arrow sort-arrow--upside" position="[-380, -113]" ng-switch-when="DP_inverse"></icon>
							<icon class="sort-arrow" position="[-380, -125]" ng-switch-default></icon>
							<div class="column-title">
								<en>Death<br>Place</en>
								<he>מקום<br>פטירה</he>
							</div>
						</th>
						<th class="death-date" ng-click="ftreesCtrl.sort('DD')" ng-switch on="ftreesCtrl.sorted_by" ng-show="ftreesCtrl.column_status['DD']">
							<icon class="sort-arrow" position="[-380, -113]" ng-switch-when="DD"></icon>
							<icon class="sort-arrow sort-arrow--upside" position="[-380, -113]" ng-switch-when="DD_inverse"></icon>
							<icon class="sort-arrow" position="[-380, -125]" ng-switch-default></icon>
							<div class="column-title">
								<en>Death<br>Date</en>
								<he>תאריך<br>פטירה</he>
							</div>
						</th>
						<th class="sex" ng-click="ftreesCtrl.sort('G')" ng-switch on="ftreesCtrl.sorted_by" ng-show="ftreesCtrl.column_status['G']">
							<icon class="sort-arrow" position="[-380, -113]" ng-switch-when="G"></icon>
							<icon class="sort-arrow sort-arrow--upside" position="[-380, -113]" ng-switch-when="G_inverse"></icon>
							<icon class="sort-arrow" position="[-380, -125]" ng-switch-default></icon>
							<div class="column-title">
								<en>Sex</en>
								<he>מין</he>
							</div>
						</th>
						<th class="tree-number" ng-click="ftreesCtrl.sort('GTN')" ng-switch on="ftreesCtrl.sorted_by" ng-show="ftreesCtrl.column_status['GTN']">
							<icon class="sort-arrow" position="[-380, -113]" ng-switch-when="GTN"></icon>
							<icon class="sort-arrow sort-arrow--upside" position="[-380, -113]" ng-switch-when="GTN_inverse"></icon>
							<icon class="sort-arrow" position="[-380, -125]" ng-switch-default></icon>
							<div class="column-title">
								<en>Tree<br>Number</en>
								<he>מספר<br>עץ</he>
							</div>
						</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="indi in ftreesCtrl.individuals.slice(ftreesCtrl.display_from_result) | limitTo: ftreesCtrl.results_per_page" ng-class="{dark: $index % 2 !== 0, selected: ftreesCtrl.is_selected(indi)}" ng-click="ftreesCtrl.select_individual(indi)">
						<td class="first-name" ng-show="ftreesCtrl.column_status['FN']">
							{{indi.FN}}
						</td>
						<td class="last-name" ng-show="ftreesCtrl.column_status['LN']">
							{{indi.LN}}
						</td>
						<td class="birth-place" ng-show="ftreesCtrl.column_status['BP']">
							{{indi.BP}}
						</td>
						<td class="birth-date" ng-show="ftreesCtrl.column_status['BD']">
							{{indi.BD}}
						</td>
						<td class="marriage-place" ng-show="ftreesCtrl.column_status['MP']">
							{{indi.MP}}
						</td>
						<td class="marriage-date" ng-show="ftreesCtrl.column_status['MD']">
							{{indi.MD}}
						</td>
						<td class="death-place" ng-show="ftreesCtrl.column_status['DP']">
							{{indi.DP}}
						</td>
						<td class="death-date" ng-show="ftreesCtrl.column_status['DD']">
							{{indi.DD}}
						</td>
						<td class="sex" ng-show="ftreesCtrl.column_status['G']">
							{{indi.G}}
						</td>
						<td class="tree-number" ng-show="ftreesCtrl.column_status['GTN']">{{indi.GTN}}</td>
					</tr>
				</tbody>
			</table>
			<div class="results__more-columns" dropdown is-open="ftreesCtrl.more_columns_menu">
				<div class="results__more-columns__trigger" dropdown-toggle ng-if="!(ftreesCtrl.tree_view)">
					<icon class="results__more-columns__trigger__icon" position="[-378, -136]"></icon>
						<div>
							<en>MORE</en>
							<he>עוד</he>
						</div>
				</div>			
				<div class="results__more-columns__menu" ng-click="ftreesCtrl.prevent_dropdown_close($event)">
					<div class="results__more-columns__menu__title">
						<en>Choose what columns to display (up to 6)</en>
						<he></he>
					</div>
					<div class="results__more-columns__menu__row" ng-repeat="(key, val) in ftreesCtrl.column_status">
						<input type="checkbox" id="{{key}}-check" ng-model="ftreesCtrl.column_status[key]">
						<label class="results__more-columns__menu__row__desc" for="{{key}}-check">{{ftreesCtrl.key_map[key][lang]}}</label>
					</div>
				</div>
			</div>
			<div class="results__per-page">
				<span class="results__per-page__indicator">
					<en>{{ftreesCtrl.display_from_result + 1}} - {{ftreesCtrl.display_to_result}} of {{ftreesCtrl.individuals.length}}</en>
					<he>{{ftreesCtrl.display_from_result + 1}} - {{ftreesCtrl.display_to_result}} מתןך {{ftreesCtrl.individuals.length}}</he>
				</span>
				<span class="results__per-page__paginator">
					<button href="" class="results__per-page__paginator__arrow" ng-click="ftreesCtrl.prev_page()"><</button>
					<span ng-if="ftreesCtrl.current_page != ftreesCtrl.low_page_bound">
						<a href="" ng-click="ftreesCtrl.current_page = ftreesCtrl.low_page_bound">{{ftreesCtrl.low_page_bound}}</a> ... 
					</span>
					{{ftreesCtrl.current_page}}
					<span ng-if="ftreesCtrl.current_page != ftreesCtrl.high_page_bound">
						... <a href="" ng-click="ftreesCtrl.current_page = ftreesCtrl.high_page_bound">{{ftreesCtrl.high_page_bound}}</a>
					</span>
					<button href="" class="results__per-page__paginator__arrow" ng-click="ftreesCtrl.next_page()">></button>
				</span>
				<span class="results__per-page__selector">
					<label for="individuals-per-page">
						<en>Per page</en>
						<he>לעמוד</he>
					</label>
					<select id="individuals-per-page" ng-model="ftreesCtrl.results_per_page">
						<option ng-repeat="i in [5, 10, 15, 20, 25, 30, 35, 40, 45, 50]" ng-if="i < ftreesCtrl.individuals.length || i === 5">{{i}}</option>
					</select>
				</span>
			</div>
		</div>
		<ui-view></ui-view>
	</div>
</div>
