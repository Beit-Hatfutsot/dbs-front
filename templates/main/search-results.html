<div id="item-page-container">
    <nav class="menu gsearch">
        <ul class="nav">
            <li class="menu-item" ng-class="{'menu-item--active': generalSearchCtrl.collection == 'allResults'}" ng-click="generalSearchCtrl.collection ='allResults'">
                <div>
                    <en>All results</en>
                    <he>כל התוצאות</he>
                </div>
            </li>
            <li class="menu-item" ng-class="{'menu-item--active': generalSearchCtrl.collection == 'places'}" ng-click="generalSearchCtrl.collection = 'places'">
                <div>
                    <en>Places</en>   
                    <he>מקומות</he>
                </div>
            </li>
            <li class="menu-item" ng-class="{'menu-item--active': generalSearchCtrl.collection == 'media'}" ng-click="generalSearchCtrl.collection = 'media'">
                <div>
                    <en>Images<br>& Videos</en>
                    <he>תמונות + וידאו</he>
                </div>
            </li>
            <li class="menu-item" ng-class="{'menu-item--active': generalSearchCtrl.collection == 'personalities'}" ng-click="generalSearchCtrl.collection = 'personalities'">
                <div>
                    <en>Personalities</en>   
                    <he>אישים</he>
                </div>
            </li>
            <li class="menu-item" ng-class="{'menu-item--active': generalSearchCtrl.collection == 'familyNames'}" ng-click="generalSearchCtrl.collection = 'familyNames'">
                <div>
                    <en>Family names</en>   
                    <he>שמות משפחה</he>
                </div>
            </li>
        </ul>
    </nav>
    <div  id="general-search-page">
        <ng-switch on="generalSearchCtrl.collection">
            <div ng-switch-when='allResults' class="about-bh">
                <div class="title">
                    <span>
                        <en>About the <a class="linked" ng-click="generalSearchCtrl.read_about_center()">Beit Hatfutsot databases:</br>The vision of Nahum Goldmann</a><br></en>
                        <he>אודות <a class="linked" ng-click="generalSearchCtrl.read_about_center()">מאגרי המידע של בית:<br>התפוצות בחזונו של נחום גולדמן</a><br></he>
                    </span>
                </div>
            </div> 
            <div ng-switch-when='places' class="about-bh">
                <div class="title">
                    <span>
                        <en>About the <a class="linked" ng-click="generalSearchCtrl.read_about_center()">Beit Hatfutsot Jewish<br>Communities Database</a></en>
                        <he>אודות <a class="linked" ng-click="generalSearchCtrl.read_about_center()">מאגר הקהילות<br>היהודיות של בית התפוצות</a></he>
                    </span>
                </div>
            </div>
            <div ng-switch-when='media' class="about-bh">
                <div class="title">
                    <span>
                        <en>About <a class="linked" ng-click="generalSearchCtrl.read_about_center()">Bernard H. and Miriam Oster<br>Visual Documentation Center</a></en>
                        <he>אודות <a class="linked" ng-click="generalSearchCtrl.read_about_center()">המרכז לתיעוד חזותי<br>ע"ש ברנרד ה. ומרים אוסטר</a></he>
                    </span>
                </div>
            </div>
            <div ng-switch-when='personalities' class="about-bh">
                <div class="title">
                    <span>
                        <en>About the <a class="linked" ng-click="generalSearchCtrl.read_about_center()">Beit Hatfutsot Jewish<br>Personalities Database</a></en>
                        <he>אודות <a class="linked" ng-click="generalSearchCtrl.read_about_center()">מאגר האישים<br>של בית התפוצות</a></he>
                    </span>
                </div>
            </div>
            <div ng-switch-when="familyNames" class="about-bh">
                <div class="title">
                    <span>
                        <en>About the <a class="linked" ng-click="generalSearchCtrl.read_about_center()">Memi De-Shalit Database<br>of Jewish Family Names</a></en>
                        <he>אודות <a class="linked" ng-click="generalSearchCtrl.read_about_center()">מאגר השמות<br>ע"ש ממי דה-שליט</a></he>
                    </span>
                </div>
            </div>
            <div ng-switch-when="family-tree" class="about-bh">
                <div class="title">
                    <span>
                        <en>About <a class="linked" ng-click="generalSearchCtrl.read_about_center()">Douglas E. Goldman Jewish<br>Genealogy Center databases</a></en>
                        <he>אודות <a class="linked" ng-click="generalSearchCtrl.read_about_center()">המרכז לגנאלוגיה יהודית<br>ע"ש דגלס א. גולדמן</a></he>
                    </span>
                </div>
            </div>
        </ng-switch>
        <div class="search-results-page">
            <div class="db-results-title"  ng-if="generalSearchCtrl.results.total > 0">
                <en>Your Search results for <span class="cap-query">{{generalSearchCtrl.query}}</span> ({{generalSearchCtrl.collection_map[generalSearchCtrl.collection].En}} - {{generalSearchCtrl.results.total}})</en>
                <he>תוצאות החיפוש עבור <span class="cap-query">{{generalSearchCtrl.query}}</span> ({{generalSearchCtrl.collection_map[generalSearchCtrl.collection].He}}  - {{generalSearchCtrl.results.total}})</he>
            </div>
            <div class="item-preview-wrapper">
                <div class="spinner" ng-if="generalSearchCtrl.loading && generalSearchCtrl.query">
                    <img src="images/BH-Loading.gif">
                </div>
                <item-preview ng-repeat="r_data in generalSearchCtrl.results.hits" preview-data="r_data._source"></item-preview> 
                <ng-include src="'templates/main/google-it.html'" ng-if="generalSearchCtrl.results.total == 0"></ng-include>
                <div class="loader" ng-click="generalSearchCtrl.fetch_more()" ng-if="generalSearchCtrl.results.total>generalSearchCtrl.results.hits.length">
                    <div class="add-sign">+</div>
                    <div class="loader-desc">
                        <en>See more<br></en>
                        <he>לראות עוד<br></he>
                        <span class="results-number">
                            <en>(+{{generalSearchCtrl.results.total-generalSearchCtrl.results.hits.length}} results)</en>
                            <he>(+{{generalSearchCtrl.results.total-generalSearchCtrl.results.hits.length}} תוצאות)</he>
                        </span>
                    </div>
                </div>
            </div>
            <div class="db-results-title" ng-if="generalSearchCtrl.external_total > 0">
                <en>Results for <span class="cap-query">{{generalSearchCtrl.query}}</span> from external sources ({{generalSearchCtrl.external_total}})</en>
                <he>תוצאות החיפוש עבור <span class="cap-query">{{generalSearchCtrl.query}}</span>, ממקורות חיצונים ({{generalSearchCtrl.external_total}})</he>
            </div>
            <div class="item-preview-wrapper" ng-if="generalSearchCtrl.external_total > 0">
                <div class="spinner" ng-if="generalSearchCtrl.loading_ext">
                    <img src="images/BH-Loading.gif">
                </div>
                <item-preview ng-repeat="r_data in generalSearchCtrl.external_results" preview-data="r_data" is-ext-result = "true"></item-preview> 
                <div class="loader" ng-click="generalSearchCtrl.fetch_more_ext()" ng-if="generalSearchCtrl.external_total>generalSearchCtrl.external_results.length">
                <div class="add-sign">+</div>
                <div class="loader-desc">
                    <en>See more<br></en>
                    <he>לראות עוד<br></he>
                    <span class="results-number">
                        <en>(+{{generalSearchCtrl.external_total-generalSearchCtrl.external_results.length}} results)</en>
                        <he>(+{{generalSearchCtrl.external_total-generalSearchCtrl.external_results.length}} תוצאות)</he>
                    </span>
                </div>
                </div>
            </div>
        </div>
    </div>
</div>