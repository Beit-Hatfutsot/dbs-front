<div id="item-page-container">
	<div id="item-page" ng-show="itemController.content_loaded">
		<div class="item-container">
			<div class="item">
				<div class="item__header">
                    <div class="text">
                        <en>
                            <span ng-if="(itemController.search_result.place.Header.En || itemController.search_result.name.Header.En) == itemController.item_data.Header.En">
                                Your search result for {{itemController.item_data.Header.En}} 
                            </span>
                            <span ng-if="(itemController.search_result.place.Header.En || itemController.search_result.name.Header.En) !== itemController.item_data.Header.En">
                                Your selected item
                            </span>
                        </en>
                        <he>
                            <span ng-if="(itemController.search_result.place.Header.He || itemController.search_result.name.Header.He) == itemController.item_data.Header.He">
                                תוצאות חיפוש עבור {{itemController.item_data.Header.He}}
                            </span>
                            <span ng-if="(itemController.search_result.place.Header.He || itemController.search_result.name.Header.He) !== itemController.item_data.Header.He">
                                נושא הנבחר
                            <span>
                        </he>
                    </div>
                </div>
				<div class="item-wrapper">
					<div id="printSection" class="item__content">
						<div 	class="item__content__media-container"
								ng-if="itemController.item_data.main_image_url">
								<div class="main-img-wrapper" ng-class="{'main-img-wrapper--display-more': itemController.item_data.Pictures.length > 1}">
									<img 	class="picture"
											ng-class="{'picture--display-more': itemController.item_data.Pictures.length > 1}"
											ng-src="{{itemController.item_data.main_image_url}}" 
											alt="Item Image"
											ng-click="itemController.open_gallery(itemController.get_main_pic_index())"
											prevent-rightclick>
								</div>
								<div class="add-img-wrapper" ng-if="itemController.item_data.Pictures.length > 1">
									<img  	class="picture"
											ng-class="{'picture--display-more': itemController.item_data.Pictures.length > 1}"
											ng-click="itemController.open_gallery(itemController.get_additional_pic_index())"
											ng-src="{{itemController.get_additional_pic_url()}}"
											prevent-rightclick>
									<div  class="image-separator"></div>
								</div>
							<div class="notification vertical-middle">
								<en>Click to view</en>
								<he>ליחצו לצפייה</he>
							</div>
							<div class="white-part" ng-show="itemController.item_data.Pictures.length > 1">
								<div class="pictures-info">
									<en> + {{itemController.item_data.Pictures.length-1}} pictures<br/>Click to view</en>
									<he> + {{itemController.item_data.Pictures.length-1}} תמונות<br/>ליחצו לצפייה</he> 
								</div>
								<div class="diagonal-block">
									<div  class="diagonal-separator" style="left:-63px; opacity:1;"></div>
									<div  class="diagonal-separator" style="left:-43px; opacity:0.7;"></div>
									<div  class="diagonal-separator" style="left:-23px; opacity:0.4;"></div>
								</div>
							</div>
						</div> 
						<div class="header-wrapper">
							<h2 class="item__article-header">
								<en>{{itemController.item_data.Header.En}}</en>
								<he>{{itemController.item_data.Header.He}}</he>
							</h2>
							<item-type type="itemController.item_type" image="itemController.item_data.thumbnail.data"></item-type>
							<mjs-widget item="itemController.item_data"></mjs-widget>
						</div>
						<div class="item__article-text">
			            	<en><span marked="itemController.item_data.UnitText1.En"></span></en>
			              	<he><span marked="itemController.item_data.UnitText1.He"></span></he>
						</div>
						<div class="scroll-to-top"onclick="window.scroll(0, 0)">
							<en>Back to top</en>
							<he>בחזרה לכותרת</he>
						</div>
					</div>
					<div class="item__bottom-bar">
                        <div class="footer">
                            <div class="share-item vertical-middle">
                                <div class="share-item-header">
                                    <en>Share this item</en>
                                    <he>פרסמו</he>
                                </div>
                                <tweet text="{{title}} via @BeitHatfutsot"></tweet>
                                <fb-share></fb-share>
                            </div>
                            <div id="printbutton" class="print-icon-wrapper vertical-middle" ng-click="itemController.print()">
                            	<span class="print-descr">
                            		<en>Print</en>
                            		<he>הדפסה<he>
                            	</span>
                            	<span class="print-icon" ng-click="window.print()">
                            		<icon position="[-411, -408]" alt-text="{en: 'Print', he: 'הדפסה'}" hover-offset="[0, -35]"></icon>
                            	</span>
							</div>
                        </div>
                        <mjs-widget item="itemController.item_data"></mjs-widget>
                        <div class="check-related vertical-middle">
                           <div class="check-related__text vertical-middle">
								<en>Check the<br>related items</en>
								<he>באותו עניין</he>
							</div>
                        </div>
                    </div>
				</div>	
			</div>
		</div>
		<div class="right-side">
			<div ng-if="itemController.search_result" class="search-results">
				<div class="search-results__header">
					<en>Your Search Results</en>
					<he>תוצאות חיפוש</he>
				</div>
				<div class="search-results__field" ng-if="itemController.search_result.name.isNotEmpty()" ng-click="itemController.goto_item(itemController.search_result.name)">
					<p class="vertical-middle">
						<en>{{itemController.search_result.name.Header.En}}</en>
						<he>{{itemController.search_result.name.Header.He}}</he>
					</p>
					<item-type type="'familyNames'"></item-type>
				</div>
				<div class="search-results__field" ng-if="itemController.search_result.place.isNotEmpty()" ng-click="itemController.goto_item(itemController.search_result.place)">
					<p class="vertical-middle">
						<en>{{itemController.search_result.place.Header.En}}</en>
						<he>{{itemController.search_result.place.Header.He}}</he>
					</p>
					<item-type type="'places'"></item-type>
				</div>
				<div class="search-results__field" ng-if="itemController.search_result.individuals.isNotEmpty()" ng-click="itemController.goto_tree()">
					<p class="vertical-middle">
						<span ng-if="itemController.search_result.name.isNotEmpty()">
							<en>{{itemController.search_result.name.Header.En}}</en>
							<he>{{itemController.search_result.name.Header.He}}</he>
						</span>
						<span ng-if="itemController.search_result.name.isNotEmpty() && itemController.search_result.place.isNotEmpty()">
							<br />
							<en>at</en>
							<he>מ</he>
						</span>
						<span ng-if="itemController.search_result.place.isNotEmpty()">
							<en>{{itemController.search_result.place.Header.En}}</en>
							<he>{{itemController.search_result.place.Header.He}}</he>
						</span>
					</p>
					<item-type type="'genTreeIndividuals'"></item-type>
				</div>
			</div>
			<div class="related">
				<div class="related__header">
					<en>Related Items</en>
					<he>פרטים קשורים</he>
				</div>
				<!-- <trees-preview ng-if="itemController.related_individuals" individuals="itemController.related_individuals" query-params="itemController.related_individuals_query_params"></trees-preview> -->
				<item-preview ng-repeat="r_data in itemController.related_data | limitTo: 6" preview-data="r_data"></item-preview> 
			</div>
		</div>
	</div>
</div>

